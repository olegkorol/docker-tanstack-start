import{jsx as d,jsxs as m}from"react/jsx-runtime";import*as r from"fs";import{createFileRoute as l,lazyRouteComponent as p,useRouter as _}from"@tanstack/react-router";import{a as o,c as n}from"./index-CcBX9Z2C.js";import"./server-DGZq9EmD.js";import"node:async_hooks";import"h3";const v=()=>Promise.resolve().then(()=>b),f="count.txt";async function h(){return parseInt(await r.promises.readFile(f,"utf-8").catch(()=>"0"))}const C=n("src_routes_demo_start_server-funcs_tsx--getCount_createServerFn_handler","/_server",(e,t)=>a.__executeServer(e,t)),a=o({method:"GET"}).handler(C,()=>h()),s=l("/demo/start/server-funcs")({component:p(v,"component",()=>s.ssr),loader:async()=>await a()}),c="count.txt";async function S(){return parseInt(await r.promises.readFile(c,"utf-8").catch(()=>"0"))}const x=n("src_routes_demo_start_server-funcs_tsx--updateCount_createServerFn_handler","/_server",(e,t)=>u.__executeServer(e,t)),u=o({method:"POST"}).validator(e=>e).handler(x,async({data:e})=>{const t=await S();await r.promises.writeFile(c,`${t+e}`)}),F=function(){const t=_(),i=s.useLoaderData();return d("div",{className:"p-4",children:m("button",{onClick:()=>{u({data:1}).then(()=>{t.invalidate()})},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:["Add 1 to ",i,"?"]})})},b=Object.freeze(Object.defineProperty({__proto__:null,component:F},Symbol.toStringTag,{value:"Module"}));export{F as component};
